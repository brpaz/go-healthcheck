<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# sqlcheck

```go
import "github.com/brpaz/go-healthcheck/checks/sqlcheck"
```

Package sqlcheck provides SQL database health checks. It verifies database connectivity and optionally executes queries to validate database health.

## Index

- [type Check](<#Check>)
  - [func New\(opts ...Option\) \*Check](<#New>)
  - [func \(c \*Check\) GetName\(\) string](<#Check.GetName>)
  - [func \(c \*Check\) Run\(ctx context.Context\) \[\]checks.Result](<#Check.Run>)
- [type Option](<#Option>)
  - [func WithDB\(db \*sql.DB\) Option](<#WithDB>)
  - [func WithExpectedResult\(expected interface\{\}\) Option](<#WithExpectedResult>)
  - [func WithName\(name string\) Option](<#WithName>)
  - [func WithQuery\(query string\) Option](<#WithQuery>)
  - [func WithTimeout\(timeout time.Duration\) Option](<#WithTimeout>)


<a name="Check"></a>
## type [Check](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L19-L25>)

Check represents a SQL database health check that verifies connectivity and optionally executes a query.

```go
type Check struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L67>)

```go
func New(opts ...Option) *Check
```

New creates a new SQL Check instance with optional configuration.

<a name="Check.GetName"></a>
### func \(\*Check\) [GetName](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L84>)

```go
func (c *Check) GetName() string
```

GetName returns the name of the check.

<a name="Check.Run"></a>
### func \(\*Check\) [Run](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L89>)

```go
func (c *Check) Run(ctx context.Context) []checks.Result
```

Run executes the SQL health check and returns the result.

<a name="Option"></a>
## type [Option](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L28>)

Option is a functional option for configuring Check.

```go
type Option func(*Check)
```

<a name="WithDB"></a>
### func [WithDB](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L38>)

```go
func WithDB(db *sql.DB) Option
```

WithDB sets the database connection to use for the health check.

<a name="WithExpectedResult"></a>
### func [WithExpectedResult](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L60>)

```go
func WithExpectedResult(expected interface{}) Option
```

WithExpectedResult sets the expected result for the query. If set, the query result will be compared against this value.

<a name="WithName"></a>
### func [WithName](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L31>)

```go
func WithName(name string) Option
```

WithName sets the name of the check.

<a name="WithQuery"></a>
### func [WithQuery](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L45>)

```go
func WithQuery(query string) Option
```

WithQuery sets a custom query to execute. If not set, "SELECT 1" is used.

<a name="WithTimeout"></a>
### func [WithTimeout](<https://github.com/brpaz/go-healthcheck/blob/master/checks/sqlcheck/check.go#L52>)

```go
func WithTimeout(timeout time.Duration) Option
```

WithTimeout sets the timeout for the database query.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
