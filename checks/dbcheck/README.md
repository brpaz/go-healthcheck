<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# dbcheck

```go
import "github.com/brpaz/go-healthcheck/v2/checks/dbcheck"
```

## Index

- [type DatabasePinger](<#DatabasePinger>)
- [type DatabaseStatsProvider](<#DatabaseStatsProvider>)
- [type OpenConnectionsCheck](<#OpenConnectionsCheck>)
  - [func NewOpenConnections\(opts ...OpenConnectionsOption\) \*OpenConnectionsCheck](<#NewOpenConnections>)
  - [func \(c \*OpenConnectionsCheck\) GetName\(\) string](<#OpenConnectionsCheck.GetName>)
  - [func \(c \*OpenConnectionsCheck\) Run\(ctx context.Context\) checks.Result](<#OpenConnectionsCheck.Run>)
- [type OpenConnectionsOption](<#OpenConnectionsOption>)
  - [func WithOpenConnectionsDB\(db DatabaseStatsProvider\) OpenConnectionsOption](<#WithOpenConnectionsDB>)
  - [func WithOpenConnectionsFailThreshold\(threshold float64\) OpenConnectionsOption](<#WithOpenConnectionsFailThreshold>)
  - [func WithOpenConnectionsName\(name string\) OpenConnectionsOption](<#WithOpenConnectionsName>)
  - [func WithOpenConnectionsTimeout\(timeout time.Duration\) OpenConnectionsOption](<#WithOpenConnectionsTimeout>)
  - [func WithOpenConnectionsWarnThreshold\(threshold float64\) OpenConnectionsOption](<#WithOpenConnectionsWarnThreshold>)
- [type PingCheck](<#PingCheck>)
  - [func NewPing\(opts ...PingOption\) \*PingCheck](<#NewPing>)
  - [func \(c \*PingCheck\) GetName\(\) string](<#PingCheck.GetName>)
  - [func \(c \*PingCheck\) Run\(ctx context.Context\) checks.Result](<#PingCheck.Run>)
- [type PingOption](<#PingOption>)
  - [func WithPingDB\(db DatabasePinger\) PingOption](<#WithPingDB>)
  - [func WithPingName\(name string\) PingOption](<#WithPingName>)
  - [func WithPingTimeout\(timeout time.Duration\) PingOption](<#WithPingTimeout>)


<a name="DatabasePinger"></a>
## type [DatabasePinger](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L10-L12>)



```go
type DatabasePinger interface {
    PingContext(ctx context.Context) error
}
```

<a name="DatabaseStatsProvider"></a>
## type [DatabaseStatsProvider](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L17-L19>)



```go
type DatabaseStatsProvider interface {
    Stats() sql.DBStats
}
```

<a name="OpenConnectionsCheck"></a>
## type [OpenConnectionsCheck](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L23-L29>)

OpenConnectionsCheck represents a database connections health check that verifies the number of open connections against the configured maximum.

```go
type OpenConnectionsCheck struct {
    // contains filtered or unexported fields
}
```

<a name="NewOpenConnections"></a>
### func [NewOpenConnections](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L70>)

```go
func NewOpenConnections(opts ...OpenConnectionsOption) *OpenConnectionsCheck
```

NewOpenConnections creates a new Database Connections Check instance with optional configuration.

<a name="OpenConnectionsCheck.GetName"></a>
### func \(\*OpenConnectionsCheck\) [GetName](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L87>)

```go
func (c *OpenConnectionsCheck) GetName() string
```

GetName returns the name of the connections check.

<a name="OpenConnectionsCheck.Run"></a>
### func \(\*OpenConnectionsCheck\) [Run](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L92>)

```go
func (c *OpenConnectionsCheck) Run(ctx context.Context) checks.Result
```

Run executes the database connections health check and returns the result.

<a name="OpenConnectionsOption"></a>
## type [OpenConnectionsOption](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L32>)

OpenConnectionsOption is a functional option for configuring ConnectionsCheck.

```go
type OpenConnectionsOption func(*OpenConnectionsCheck)
```

<a name="WithOpenConnectionsDB"></a>
### func [WithOpenConnectionsDB](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L42>)

```go
func WithOpenConnectionsDB(db DatabaseStatsProvider) OpenConnectionsOption
```

WithOpenConnectionsDB sets the database connection to use for the connections health check.

<a name="WithOpenConnectionsFailThreshold"></a>
### func [WithOpenConnectionsFailThreshold](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L63>)

```go
func WithOpenConnectionsFailThreshold(threshold float64) OpenConnectionsOption
```

WithOpenConnectionsFailThreshold sets the failure threshold as a percentage \(0\-100\) of max connections.

<a name="WithOpenConnectionsName"></a>
### func [WithOpenConnectionsName](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L35>)

```go
func WithOpenConnectionsName(name string) OpenConnectionsOption
```

WithOpenConnectionsName sets the name of the connections check.

<a name="WithOpenConnectionsTimeout"></a>
### func [WithOpenConnectionsTimeout](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L49>)

```go
func WithOpenConnectionsTimeout(timeout time.Duration) OpenConnectionsOption
```

WithOpenConnectionsTimeout sets the timeout for the connections check operation.

<a name="WithOpenConnectionsWarnThreshold"></a>
### func [WithOpenConnectionsWarnThreshold](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/connections_check.go#L56>)

```go
func WithOpenConnectionsWarnThreshold(threshold float64) OpenConnectionsOption
```

WithOpenConnectionsWarnThreshold sets the warning threshold as a percentage \(0\-100\) of max connections.

<a name="PingCheck"></a>
## type [PingCheck](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L19-L23>)

PingCheck represents a SQL database ping health check that verifies connectivity through ping operations.

```go
type PingCheck struct {
    // contains filtered or unexported fields
}
```

<a name="NewPing"></a>
### func [NewPing](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L50>)

```go
func NewPing(opts ...PingOption) *PingCheck
```

NewPing creates a new SQL Ping Check instance with optional configuration.

<a name="PingCheck.GetName"></a>
### func \(\*PingCheck\) [GetName](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L65>)

```go
func (c *PingCheck) GetName() string
```

GetName returns the name of the ping check.

<a name="PingCheck.Run"></a>
### func \(\*PingCheck\) [Run](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L70>)

```go
func (c *PingCheck) Run(ctx context.Context) checks.Result
```

Run executes the SQL Ping health check and returns the result.

<a name="PingOption"></a>
## type [PingOption](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L26>)

PingOption is a functional option for configuring PingCheck.

```go
type PingOption func(*PingCheck)
```

<a name="WithPingDB"></a>
### func [WithPingDB](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L36>)

```go
func WithPingDB(db DatabasePinger) PingOption
```

WithPingDB sets the database connection to use for the ping health check.

<a name="WithPingName"></a>
### func [WithPingName](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L29>)

```go
func WithPingName(name string) PingOption
```

WithPingName sets the name of the ping check.

<a name="WithPingTimeout"></a>
### func [WithPingTimeout](<https://github.com/brpaz/go-healthcheck/blob/master/checks/dbcheck/ping_check.go#L43>)

```go
func WithPingTimeout(timeout time.Duration) PingOption
```

WithPingTimeout sets the timeout for the database ping operation.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
